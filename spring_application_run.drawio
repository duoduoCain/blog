<mxfile host="app.diagrams.net" modified="2022-12-19T09:31:01.955Z" agent="5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.97 Safari/537.36" etag="zeYsWIs5NLW2JUa1QU7Q" version="20.7.3" type="github">
  <diagram id="hmpAwJjgKOBsFKK5IczD" name="第 1 页">
    <mxGraphModel dx="1647" dy="868" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="uOHYhHhNNr3pCykLkhix-1" value="SpringApplication.run()" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="70" y="140" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-7" value="&lt;pre style=&quot;background-color:#ffffff;color:#24292e;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.0pt;&quot;&gt;&lt;span style=&quot;color:#d73a49;&quot;&gt;public &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;ConfigurableApplicationContext &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;&quot;&gt;run&lt;/span&gt;(&lt;span style=&quot;color:#6f42c1;&quot;&gt;String&lt;/span&gt;... &lt;span style=&quot;color:#e36209;&quot;&gt;args&lt;/span&gt;) {&lt;br&gt;   &lt;span style=&quot;color:#6f42c1;&quot;&gt;DefaultBootstrapContext &lt;/span&gt;&lt;span style=&quot;color:#005cc5;&quot;&gt;bootstrapContext &lt;/span&gt;&lt;span style=&quot;color:#d73a49;&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;&quot;&gt;createBootstrapContext&lt;/span&gt;();&lt;br&gt;   &lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;ConfigurableApplicationContext &lt;/span&gt;&lt;span style=&quot;color:#005cc5;&quot;&gt;context &lt;/span&gt;&lt;span style=&quot;color:#d73a49;&quot;&gt;= null&lt;/span&gt;;&lt;br&gt;   &lt;span style=&quot;color:#6f42c1;&quot;&gt;configureHeadlessProperty&lt;/span&gt;();&lt;br&gt;   &lt;span style=&quot;color:#6f42c1;&quot;&gt;SpringApplicationRunListeners &lt;/span&gt;&lt;span style=&quot;color:#005cc5;&quot;&gt;listeners &lt;/span&gt;&lt;span style=&quot;color:#d73a49;&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;&quot;&gt;getRunListeners&lt;/span&gt;(&lt;span style=&quot;color:#e36209;&quot;&gt;args&lt;/span&gt;);&lt;br&gt;   &lt;span style=&quot;color:#005cc5;&quot;&gt;listeners&lt;/span&gt;.&lt;span style=&quot;color:#6f42c1;&quot;&gt;starting&lt;/span&gt;(&lt;span style=&quot;color:#005cc5;&quot;&gt;bootstrapContext&lt;/span&gt;, &lt;span style=&quot;color:#d73a49;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;background-color:#d1d5da;&quot;&gt;mainApplicationClass&lt;/span&gt;);&lt;br&gt;   &lt;span style=&quot;color:#d73a49;&quot;&gt;try &lt;/span&gt;{&lt;br&gt;      &lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;ApplicationArguments &lt;/span&gt;&lt;span style=&quot;color:#005cc5;&quot;&gt;applicationArguments &lt;/span&gt;&lt;span style=&quot;color:#d73a49;&quot;&gt;= new &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;&quot;&gt;DefaultApplicationArguments&lt;/span&gt;(&lt;span style=&quot;color:#e36209;&quot;&gt;args&lt;/span&gt;);&lt;br&gt;      &lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;ConfigurableEnvironment &lt;/span&gt;&lt;span style=&quot;color:#005cc5;&quot;&gt;environment &lt;/span&gt;&lt;span style=&quot;color:#d73a49;&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;&quot;&gt;prepareEnvironment&lt;/span&gt;(&lt;span style=&quot;color:#005cc5;&quot;&gt;listeners&lt;/span&gt;, &lt;span style=&quot;color:#005cc5;&quot;&gt;bootstrapContext&lt;/span&gt;, &lt;span style=&quot;color:#005cc5;&quot;&gt;applicationArguments&lt;/span&gt;);&lt;br&gt;      &lt;span style=&quot;color:#6f42c1;&quot;&gt;configureIgnoreBeanInfo&lt;/span&gt;(&lt;span style=&quot;color:#005cc5;&quot;&gt;environment&lt;/span&gt;);&lt;br&gt;      &lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;Banner &lt;/span&gt;&lt;span style=&quot;color:#005cc5;&quot;&gt;printedBanner &lt;/span&gt;&lt;span style=&quot;color:#d73a49;&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;&quot;&gt;printBanner&lt;/span&gt;(&lt;span style=&quot;color:#005cc5;&quot;&gt;environment&lt;/span&gt;);&lt;br&gt;      &lt;span style=&quot;color:#005cc5;&quot;&gt;context &lt;/span&gt;&lt;span style=&quot;color:#d73a49;&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;&quot;&gt;createApplicationContext&lt;/span&gt;();&lt;br&gt;      &lt;span style=&quot;color:#005cc5;&quot;&gt;context&lt;/span&gt;.&lt;span style=&quot;color:#6f42c1;&quot;&gt;setApplicationStartup&lt;/span&gt;(&lt;span style=&quot;color:#d73a49;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;background-color:#d1d5da;&quot;&gt;applicationStartup&lt;/span&gt;);&lt;br&gt;      &lt;span style=&quot;color:#6f42c1;&quot;&gt;prepareContext&lt;/span&gt;(&lt;span style=&quot;color:#005cc5;&quot;&gt;bootstrapContext&lt;/span&gt;, &lt;span style=&quot;color:#005cc5;&quot;&gt;context&lt;/span&gt;, &lt;span style=&quot;color:#005cc5;&quot;&gt;environment&lt;/span&gt;, &lt;span style=&quot;color:#005cc5;&quot;&gt;listeners&lt;/span&gt;, &lt;span style=&quot;color:#005cc5;&quot;&gt;applicationArguments&lt;/span&gt;, &lt;span style=&quot;color:#005cc5;&quot;&gt;printedBanner&lt;/span&gt;);&lt;br&gt;      &lt;span style=&quot;color:#6f42c1;&quot;&gt;refreshContext&lt;/span&gt;(&lt;span style=&quot;color:#005cc5;&quot;&gt;context&lt;/span&gt;);&lt;br&gt;      &lt;span style=&quot;color:#6f42c1;&quot;&gt;afterRefresh&lt;/span&gt;(&lt;span style=&quot;color:#005cc5;&quot;&gt;context&lt;/span&gt;, &lt;span style=&quot;color:#005cc5;&quot;&gt;applicationArguments&lt;/span&gt;);&lt;br&gt;      &lt;span style=&quot;color:#005cc5;&quot;&gt;stopWatch&lt;/span&gt;.&lt;span style=&quot;color:#6f42c1;&quot;&gt;stop&lt;/span&gt;();&lt;br&gt;      &lt;span style=&quot;color:#d73a49;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color:#d73a49;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;background-color:#d1d5da;&quot;&gt;logStartupInfo&lt;/span&gt;) {&lt;br&gt;         &lt;span style=&quot;color:#d73a49;&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;&quot;&gt;StartupInfoLogger&lt;/span&gt;(&lt;span style=&quot;color:#d73a49;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;background-color:#d1d5da;&quot;&gt;mainApplicationClass&lt;/span&gt;).&lt;span style=&quot;color:#6f42c1;&quot;&gt;logStarted&lt;/span&gt;(&lt;span style=&quot;color:#6f42c1;&quot;&gt;getApplicationLog&lt;/span&gt;(), &lt;span style=&quot;color:#005cc5;&quot;&gt;stopWatch&lt;/span&gt;);&lt;br&gt;      }&lt;br&gt;      &lt;span style=&quot;color:#005cc5;&quot;&gt;listeners&lt;/span&gt;.&lt;span style=&quot;color:#6f42c1;&quot;&gt;started&lt;/span&gt;(&lt;span style=&quot;color:#005cc5;&quot;&gt;context&lt;/span&gt;);&lt;br&gt;      &lt;span style=&quot;color:#6f42c1;&quot;&gt;callRunners&lt;/span&gt;(&lt;span style=&quot;color:#005cc5;&quot;&gt;context&lt;/span&gt;, &lt;span style=&quot;color:#005cc5;&quot;&gt;applicationArguments&lt;/span&gt;);&lt;br&gt;   }&lt;br&gt;   &lt;span style=&quot;color:#d73a49;&quot;&gt;catch &lt;/span&gt;(&lt;span style=&quot;color:#6f42c1;&quot;&gt;Throwable &lt;/span&gt;&lt;span style=&quot;color:#e36209;&quot;&gt;ex&lt;/span&gt;) {&lt;br&gt;      &lt;span style=&quot;color:#6f42c1;&quot;&gt;handleRunFailure&lt;/span&gt;(&lt;span style=&quot;color:#005cc5;&quot;&gt;context&lt;/span&gt;, &lt;span style=&quot;color:#e36209;&quot;&gt;ex&lt;/span&gt;, &lt;span style=&quot;color:#005cc5;&quot;&gt;listeners&lt;/span&gt;);&lt;br&gt;      &lt;span style=&quot;color:#d73a49;&quot;&gt;throw new &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;&quot;&gt;IllegalStateException&lt;/span&gt;(&lt;span style=&quot;color:#e36209;&quot;&gt;ex&lt;/span&gt;);&lt;br&gt;   }&lt;br&gt;   &lt;span style=&quot;color:#d73a49;&quot;&gt;try &lt;/span&gt;{&lt;br&gt;      &lt;span style=&quot;color:#005cc5;&quot;&gt;listeners&lt;/span&gt;.&lt;span style=&quot;color:#6f42c1;&quot;&gt;running&lt;/span&gt;(&lt;span style=&quot;color:#005cc5;&quot;&gt;context&lt;/span&gt;);&lt;br&gt;   }&lt;br&gt;   &lt;span style=&quot;color:#d73a49;&quot;&gt;catch &lt;/span&gt;(&lt;span style=&quot;color:#6f42c1;&quot;&gt;Throwable &lt;/span&gt;&lt;span style=&quot;color:#e36209;&quot;&gt;ex&lt;/span&gt;) {&lt;br&gt;      &lt;span style=&quot;color:#6f42c1;&quot;&gt;handleRunFailure&lt;/span&gt;(&lt;span style=&quot;color:#005cc5;&quot;&gt;context&lt;/span&gt;, &lt;span style=&quot;color:#e36209;&quot;&gt;ex&lt;/span&gt;, &lt;span style=&quot;color:#d73a49;&quot;&gt;null&lt;/span&gt;);&lt;br&gt;      &lt;span style=&quot;color:#d73a49;&quot;&gt;throw new &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;&quot;&gt;IllegalStateException&lt;/span&gt;(&lt;span style=&quot;color:#e36209;&quot;&gt;ex&lt;/span&gt;);&lt;br&gt;   }&lt;br&gt;   &lt;span style=&quot;color:#d73a49;&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color:#005cc5;&quot;&gt;context&lt;/span&gt;;&lt;br&gt;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="60" y="200" width="690" height="530" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="uOHYhHhNNr3pCykLkhix-8" target="uOHYhHhNNr3pCykLkhix-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="uOHYhHhNNr3pCykLkhix-8" target="uOHYhHhNNr3pCykLkhix-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-8" value="&lt;pre style=&quot;background-color:#ffffff;color:#24292e;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.0pt;&quot;&gt;&lt;span style=&quot;color:#6f42c1;&quot;&gt;createBootstrapContext()&lt;/span&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="880" y="190" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="uOHYhHhNNr3pCykLkhix-9" target="uOHYhHhNNr3pCykLkhix-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="uOHYhHhNNr3pCykLkhix-9" target="uOHYhHhNNr3pCykLkhix-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-9" value="&lt;pre style=&quot;background-color:#ffffff;color:#24292e;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.0pt;&quot;&gt;&lt;pre style=&quot;font-size: 9pt; text-align: left; font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;color: rgb(111, 66, 193);&quot;&gt;configureHeadlessProperty&lt;/span&gt;()&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="880" y="240" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.175;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="uOHYhHhNNr3pCykLkhix-10" target="uOHYhHhNNr3pCykLkhix-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="uOHYhHhNNr3pCykLkhix-10" target="0oLrl2Pk167Phdq7L2Fr-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-10" value="&lt;pre style=&quot;background-color:#ffffff;color:#24292e;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.0pt;&quot;&gt;&lt;pre style=&quot;font-size: 9pt; text-align: left; font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;font-size: 9pt; text-align: center; color: rgb(0, 92, 197);&quot;&gt;listeners&lt;/span&gt;&lt;span style=&quot;font-size: 9pt; text-align: center;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;font-size: 9pt; text-align: center; color: rgb(111, 66, 193);&quot;&gt;starting&lt;/span&gt;&lt;span style=&quot;font-size: 9pt; text-align: center;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 9pt; text-align: center; color: rgb(0, 92, 197);&quot;&gt;bootstrapContext&lt;/span&gt;&lt;span style=&quot;font-size: 9pt; text-align: center;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="880" y="530" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="uOHYhHhNNr3pCykLkhix-11" target="uOHYhHhNNr3pCykLkhix-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="uOHYhHhNNr3pCykLkhix-11" target="uOHYhHhNNr3pCykLkhix-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="uOHYhHhNNr3pCykLkhix-11" target="uOHYhHhNNr3pCykLkhix-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-11" value="&lt;pre style=&quot;background-color:#ffffff;color:#24292e;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.0pt;&quot;&gt;&lt;pre style=&quot;font-size: 9pt; text-align: left; font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9pt;&quot;&gt;&lt;span style=&quot;color:#005cc5;&quot;&gt;listeners &lt;/span&gt;&lt;span style=&quot;color:#d73a49;&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;&quot;&gt;getRunListeners&lt;/span&gt;(&lt;span style=&quot;color:#e36209;&quot;&gt;args&lt;/span&gt;)&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="880" y="375" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-12" value="&lt;pre style=&quot;background-color: rgb(255, 255, 255); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9pt;&quot;&gt;&lt;font color=&quot;#6f42c1&quot;&gt;要废弃了&lt;/font&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1110" y="190" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-13" value="&lt;pre style=&quot;background-color: rgb(255, 255, 255); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9pt;&quot;&gt;&lt;pre style=&quot;font-size: 9pt; text-align: left; font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;font color=&quot;#6f42c1&quot;&gt;配置AWT的情况&lt;/font&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1110" y="240" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="uOHYhHhNNr3pCykLkhix-15" target="uOHYhHhNNr3pCykLkhix-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-15" value="&lt;pre style=&quot;background-color: rgb(255, 255, 255); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9pt;&quot;&gt;&lt;pre style=&quot;font-size: 9pt; text-align: left; font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9pt;&quot;&gt;&lt;font color=&quot;#005cc5&quot;&gt;1：构建&lt;/font&gt;SpringApplicationRunListener&lt;br&gt;集合并初始化&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1120" y="370" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="uOHYhHhNNr3pCykLkhix-16" target="uOHYhHhNNr3pCykLkhix-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-16" value="&lt;pre style=&quot;background-color: rgb(255, 255, 255); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9pt;&quot;&gt;&lt;pre style=&quot;font-size: 9pt; text-align: left; font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9pt;&quot;&gt;&lt;font color=&quot;#005cc5&quot;&gt;2：构建&lt;/font&gt;SpringApplicationRunListeners&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1120" y="425" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-24" value="&lt;pre style=&quot;background-color:#ffffff;color:#24292e;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.0pt;&quot;&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; * 1: &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;获取&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;spring.factories&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;中的 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;EventPublishingRunListener&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; * 2&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：触发此类实例化是 有以下动作&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*        1&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：把当前 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;SpringApplication     &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;对象 丢入&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;EventPublishingRunListener&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的属性中&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*        2&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：把&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;main &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;程序启动的&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;args[] &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;数组丢入   &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;EventPublishingRunListener&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的属性中&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*        3: &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;创建一个 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;SimpleApplicationEventMulticaster &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;对象&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*        4&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：遍历 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;SpringApplication &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;中的 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;listeners&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *           * org.springframework.boot.ClearCachesApplicationListener,\&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *           * org.springframework.boot.builder.ParentContextCloserApplicationListener,\&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *           * org.springframework.boot.context.FileEncodingApplicationListener,\&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *           * org.springframework.boot.context.config.AnsiOutputApplicationListener,\&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *           * org.springframework.boot.context.config.DelegatingApplicationListener,\&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *           * org.springframework.boot.context.logging.LoggingApplicationListener,\&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *           * org.springframework.boot.env.EnvironmentPostProcessorApplicationListener,\&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *           * org.springframework.boot.autoconfigure.BackgroundPreinitializer&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *        &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;并循环添加至     &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;SimpleApplicationEventMulticaster &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;对象中&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*     3&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：排序数据并返回&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*/&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1440" y="120" width="560" height="330" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-25" value="&lt;pre style=&quot;background-color: rgb(255, 255, 255); font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9pt;&quot;&gt;&lt;pre style=&quot;font-size: 9pt; text-align: left; font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9pt;&quot;&gt;&lt;font color=&quot;#005cc5&quot;&gt;2：把&lt;/font&gt;EventPublishingRunListener放入&lt;br/&gt;SpringApplicationRunListeners&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1450" y="425" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="uOHYhHhNNr3pCykLkhix-35" value="&lt;pre style=&quot;background-color:#ffffff;color:#24292e;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.0pt;&quot;&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; * 1: &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;当前的 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;listeners &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;其实只有一个 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;EventPublishingRunListener&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;当前如果自定义了 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;spring.factories &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的  &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;SpringApplicationRunListener &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;会有多个&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;* 2&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：调用 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;EventPublishingRunListener &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;starting &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;方法&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*    1&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：由于此时这个 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;SimpleApplicationEventMulticaster&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;已经有 &lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;上述&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;SpringApplication&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;中的&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;spring.factories &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;ApplicationListener&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;集合&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*    2&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：发布 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;ApplicationStartingEvent&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;事件&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*    3&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：获取上述&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;SimpleApplicationEventMulticaster&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;中能&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt; &lt;/span&gt;处理&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;ApplicationStartingEvent&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;事件的监听器&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*    4&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：循环触发 监听&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*       1&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;LoggingApplicationListener &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;会处理&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*  &lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1120" y="510" width="720" height="200" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.002;entryY=0.302;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0oLrl2Pk167Phdq7L2Fr-1" target="0oLrl2Pk167Phdq7L2Fr-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0oLrl2Pk167Phdq7L2Fr-1" target="0oLrl2Pk167Phdq7L2Fr-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-1" value="&lt;pre style=&quot;background-color:#ffffff;color:#24292e;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.0pt;&quot;&gt;&lt;pre style=&quot;font-size: 9pt; text-align: left; font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;pre style=&quot;border-color: var(--border-color); font-size: 9pt; font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(215, 58, 73);&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(111, 66, 193);&quot;&gt;DefaultApplicationArguments&lt;/span&gt;(&lt;span style=&quot;border-color: var(--border-color); color: rgb(227, 98, 9);&quot;&gt;args&lt;/span&gt;)&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="880" y="800" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-2" value="&lt;pre style=&quot;background-color:#ffffff;color:#24292e;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.0pt;&quot;&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; * 1&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：创建一个 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;Source&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; * 2&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：调用 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;SimpleCommandLinePropertySource&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的构造方法 构建 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;SimpleCommandLineArgsParser&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *        1:&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;调用 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;SimpleCommandLineArgsParser&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;#&lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;parse&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;String&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;...)} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;方法&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*        2&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：处理 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;-- &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;开头的 加入至 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;optionArgs        &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;是 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;Map&amp;lt;String, List&amp;lt;String&amp;gt;&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *        3&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：处理不是 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;-- &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;开头的 加入至 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;nonOptionArgs    &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;是 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;List&amp;lt;String&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *     3&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：保存当前参数值 属性方法&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*/&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1120" y="760" width="660" height="180" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.447;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0oLrl2Pk167Phdq7L2Fr-3" target="0oLrl2Pk167Phdq7L2Fr-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.001;entryY=0.588;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0oLrl2Pk167Phdq7L2Fr-3" target="0oLrl2Pk167Phdq7L2Fr-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="0oLrl2Pk167Phdq7L2Fr-3" target="0oLrl2Pk167Phdq7L2Fr-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="0oLrl2Pk167Phdq7L2Fr-3" target="0oLrl2Pk167Phdq7L2Fr-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.002;entryY=0.612;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0oLrl2Pk167Phdq7L2Fr-3" target="0oLrl2Pk167Phdq7L2Fr-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-3" value="&lt;pre style=&quot;background-color:#ffffff;color:#24292e;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.0pt;&quot;&gt;&lt;pre style=&quot;font-size: 9pt; text-align: left; font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;pre style=&quot;border-color: var(--border-color); font-size: 9pt; font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace; font-size: 9pt;&quot;&gt;&lt;span style=&quot;color:#6f42c1;&quot;&gt;prepareEnvironment&lt;/span&gt;(&lt;span style=&quot;color:#005cc5;&quot;&gt;listeners&lt;/span&gt;,&lt;br/&gt; &lt;span style=&quot;color:#005cc5;&quot;&gt;bootstrapContext&lt;/span&gt;, &lt;span style=&quot;color:#005cc5;&quot;&gt;applicationArguments&lt;/span&gt;)&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="880" y="1010" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-4" value="&lt;pre style=&quot;background-color:#ffffff;color:#24292e;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.0pt;&quot;&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; * 1&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：创建一个可配置的 环境 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;ConfigurableEnvironment&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *        &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;此处是&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;StandardServletEnvironment&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; * 2: &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;在&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;new {&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;StandardServletEnvironment&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;时回触发 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;AbstractEnvironment&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;构造方法的&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;init&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *        1: &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;创建一个&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;MutablePropertySources&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;并放入 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;AbstractEnvironment &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;属性中&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*        2&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;： 利用当前的 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;MutablePropertySources&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;构造一个&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link  &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;PropertySourcesPropertyResolver&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *        3: {&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;StandardServletEnvironment&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;#customizePropertySources(&lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;MutablePropertySources&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;)}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *      4:  {&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;StandardEnvironment&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;#&lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;customizePropertySources&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;MutablePropertySources&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;)}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1120" y="940" width="560" height="190" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-5" value="&lt;pre style=&quot;background-color:#ffffff;color:#24292e;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.0pt;&quot;&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; * 1&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：往当前容器添加一个&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;ConversionService&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *        1&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;dcl&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;获取&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*        2&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：创建一个 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;ApplicationConversionService&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;然后往里面添加了很多 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;convert &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;和 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;format&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; * 2&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：看&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;defaultProperties &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;有没有配置过 如果有配置则合并&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;* 3&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：看启动是否有启动入参 如有有的话 则创建一个&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;SimpleCommandLinePropertySource&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *        &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;并放入&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;MutablePropertySources&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;并进一步放入环境对象中&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;* 4&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：给多环境一个实现&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*/&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1120" y="1160" width="560" height="190" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-6" value="&lt;pre style=&quot;background-color:#ffffff;color:#24292e;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.0pt;&quot;&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;看当前容器是否有 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;configurationProperties &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;配置 如果有则移除旧的，然后新增一个&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;ConfigurationPropertySourcesPropertySource&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; */&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1120" y="1370" width="560" height="90" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-7" value="&lt;pre style=&quot;background-color:#ffffff;color:#24292e;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.0pt;&quot;&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;发布一个&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;ApplicationEnvironmentPreparedEvent&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;事件&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*     1:&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;他这里其实只有一个&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;EnvironmentPostProcessorApplicationListener&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;可以接受这个监听&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*     2&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：但是他内部其实是依赖&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;EnvironmentPostProcessor&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;来处理的&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*           DeferredLogFactory.class, logFactory&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *           Log.class, logFactory::getLog&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *           ConfigurableBootstrapContext.class, bootstrapContext&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *           BootstrapContext.class, bootstrapContext&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *           BootstrapRegistry.class, bootstrapContext&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *     3&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：这里会依次初始化一下的 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;postProcessor&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *        1&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;CloudFoundryVcapEnvironmentPostProcessor&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;#&lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;CloudFoundryVcapEnvironmentPostProcessor&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;Log&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;)}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *        2: {&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;ConfigDataEnvironmentPostProcessor&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;#&lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;ConfigDataEnvironmentPostProcessor&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;DeferredLogFactory&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;ConfigurableBootstrapContext&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;ConfigDataEnvironmentUpdateListener&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;)}&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *              &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;这里处理是比较复杂的，应该是提供一个 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;spring.config.location &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;、&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;spring.config.additional-location&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;、&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;spring.config.import&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *              &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;并扫描 &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;optional:classpath:/ 2&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;optional:classpath:/config/&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;，&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;optional:file:./&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;，&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;optional:file:./config/&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;，&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;optional:file:./config/*\/&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt; *              &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;这些文件夹的配置文件，按字面意思应该是支持从另外一个地址去加载这个环境配置数据&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*        3&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;RandomValuePropertySourceEnvironmentPostProcessor&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;}    &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;这里是处理配置中有  &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;${random.int|long|uuid}&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;的值&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*        4&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;SpringApplicationJsonEnvironmentPostProcessor&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;}        &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;处理&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;json &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;配置的数据&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*        5: {&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;SystemEnvironmentPropertySourceEnvironmentPostProcessor&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;这里应该是配置多环境时处理的&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*        6&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;：&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color:#d73a49;font-weight:bold;font-style:italic;&quot;&gt;@link &lt;/span&gt;&lt;span style=&quot;color:#6f42c1;font-style:italic;&quot;&gt;DebugAgentEnvironmentPostProcessor&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;这里给&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;reactor &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt;使用的&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;font-family:&#39;宋体&#39;,monospace;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-style:italic;&quot;&gt;*/&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1120" y="1490" width="1100" height="370" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-8" value="&lt;pre style=&quot;background-color:#ffffff;color:#24292e;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.0pt;&quot;&gt;&lt;span style=&quot;color:#6a737d;&quot;&gt;// &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-family:&#39;宋体&#39;,monospace;&quot;&gt;使用配置的&lt;/span&gt;&lt;span style=&quot;color:#6a737d;&quot;&gt; spring.profiles.active&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1120" y="1850" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0oLrl2Pk167Phdq7L2Fr-9" value="&lt;pre style=&quot;background-color:#ffffff;color:#24292e;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:9.0pt;&quot;&gt;&lt;span style=&quot;color:#6a737d;&quot;&gt;// &lt;/span&gt;&lt;span style=&quot;color:#6a737d;font-family:&#39;宋体&#39;,monospace;&quot;&gt;把使用的配置和当前的配置进行绑定 最终绑定确定当前启动环境的数据&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1120" y="1960" width="470" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
